import {
  createRawSnippet
} from "./chunk-LHE5QNXL.js";
import "./chunk-DEX2RCYB.js";
import {
  hydrate,
  mount,
  unmount
} from "./chunk-I4RE5X5C.js";
import {
  proxy,
  strict_equals,
  tag_proxy
} from "./chunk-RQSX7Q2V.js";
import "./chunk-ZK2PZLCJ.js";
import "./chunk-KHW2YSOG.js";
import "./chunk-B4Q33VKO.js";

// node_modules/.pnpm/@astrojs+svelte@7.2.5_astro@5.17.1_jiti@2.6.1_lightningcss@1.30.2_rollup@4.57.1_typescr_a1b73d97088bdbe7140d218c05ae7957/node_modules/@astrojs/svelte/dist/client.svelte.js
var existingApplications = /* @__PURE__ */ new WeakMap();
var client_svelte_default = (element) => {
  return async (Component, props, slotted, { client }) => {
    if (!element.hasAttribute("ssr")) return;
    let children = void 0;
    let _$$slots = void 0;
    let renderFns = {};
    for (const [key, value] of Object.entries(slotted)) {
      _$$slots ?? (_$$slots = {});
      if (strict_equals(key, "default")) {
        _$$slots.default = true;
        children = createRawSnippet(() => ({ render: () => `<astro-slot>${value}</astro-slot>` }));
      } else {
        _$$slots[key] = createRawSnippet(() => ({
          render: () => `<astro-slot name="${key}">${value}</astro-slot>`
        }));
      }
      if (strict_equals(key, "default")) {
        renderFns.children = createRawSnippet(() => ({ render: () => `<astro-slot>${value}</astro-slot>` }));
      } else {
        renderFns[key] = createRawSnippet(() => ({
          render: () => `<astro-slot name="${key}">${value}</astro-slot>`
        }));
      }
    }
    const resolvedProps = { ...props, children, $$slots: _$$slots, ...renderFns };
    if (existingApplications.has(element)) {
      existingApplications.get(element).setProps(resolvedProps);
    } else {
      const component = createComponent(Component, element, resolvedProps, strict_equals(client, "only", false));
      existingApplications.set(element, component);
      element.addEventListener("astro:unmount", () => component.destroy(), { once: true });
    }
  };
};
function createComponent(Component, target, props, shouldHydrate) {
  let propsState = tag_proxy(proxy(props), "propsState");
  const bootstrap = shouldHydrate ? hydrate : mount;
  if (!shouldHydrate) {
    target.innerHTML = "";
  }
  const component = bootstrap(Component, { target, props: propsState });
  return {
    setProps(newProps) {
      Object.assign(propsState, newProps);
      for (const key in propsState) {
        if (!(key in newProps)) {
          delete propsState[key];
        }
      }
    },
    destroy() {
      unmount(component);
    }
  };
}
export {
  client_svelte_default as default
};
//# sourceMappingURL=@astrojs_svelte_client__js.js.map
