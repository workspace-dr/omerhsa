---
import { getCollection } from 'astro:content';
import ArticleLayout from '../../layouts/ArticleLayout.astro';

export async function getStaticPaths() {
  const papers = await getCollection('academic');
  return papers.map(paper => ({
    params: { slug: paper.slug },
    props: { paper },
  }));
}

const { paper } = Astro.props;
const { Content } = await paper.render();
---

<ArticleLayout frontmatter={paper.data}>
  <div class="bg-blue-50 border border-blue-100 p-4 mb-8 rounded-lg">
    <p class="font-bold text-blue-900">Resumen Abstract:</p>
    <p class="text-blue-800 italic">{paper.data.abstract}</p>
  </div>
  
  <Content />

  {paper.data.pdfUrl && (
    <div class="mt-12 text-center">
      <a href={paper.data.pdfUrl} target="_blank" class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md text-white bg-omerhsa-primary hover:bg-omerhsa-dark">
        Descargar PDF Original
      </a>
    </div>
  )}
</ArticleLayout>